@*setting up acces to trips models*@
@model IEnumerable<Trip_booking.Models.Trips>

@*@{
    ViewBag.Title = "Home Page";
}
   *@

@*@{
    ViewBag.Title = "Booking App";
}*@
 
@section featured {

  <div class="jumbotron">
    <div class="container">
      @*<h1>@ViewBag.Title.</h1>*@
      @*<h2>@ViewBag.Message</h2>*@
      <p>
     
       </div>
  </div>
}

<div class="row">
  <div class="col-md-6">
      @*setting up table to show trips data*@
       <h2>List of Trips</h2>
      <div id="TripLegsDetails">Click Trip Name to get Leg details</div>
       <table class="table table-bordered table-striped table-condensed table-responsive">
            
           @*coloum headers*@
             <tr>
                 <th>
                    @Html.DisplayNameFor(model => model.TripID)
                </th>
                <th>
                    
                    @Html.DisplayNameFor(model => model.Trip_Name)
                </th>
                 
                <th>
                    @Html.DisplayNameFor(model => model.LegID)
                </th>

                 <th>
                    @Html.DisplayNameFor(model => model.Start_Date)
                </th>

                  <th>
                    @Html.DisplayNameFor(model => model.Finish_Date)
                </th>  
                 <th>
                    @Html.Label("Trip Status")
                </th>        
            </tr>

           @* putting out rows of data*@
            @foreach (var item in Model) {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.TripID)
                    </td>
                    <td>        
                        @*seeting up ajax link for partial page*@                                
                        @Ajax.ActionLink(item.Trip_Name, "GetLegDetailsForTipe", new {TripID = item.TripID}, new AjaxOptions { HttpMethod = "POST", InsertionMode = InsertionMode.Replace, UpdateTargetId = "TripLegsDetails"})
                    </td>                    
                    <td>
                        @Html.DisplayFor(modelItem => item.LegID)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Start_Date)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Finish_Date)
                    </td>
                    <td>
                        @Html.Action("GetStatus", new {TripID = item.TripID})                       
                    </td>
                </tr>
            }
           </table>
      
    </div>
@*buttons to  create/view trips and legs ect*@ 
  <div class="col-md-6">
        @Html.ActionLink("Create","Create","Home",  new{@class="btn btn-sm btn-info"})
           @Html.ActionLink("CreateGuest","CreateGuest","Home",  new{@class="btn btn-sm btn-info"})
           @Html.ActionLink("CreateLegs","CreateLegs","Home",  new{@class="btn btn-sm btn-info"})
           @Html.ActionLink("CreateLegsGuest","CreateLegsGuest","Home",  new{@class="btn btn-sm btn-info"})

      <tr>
          <tr>
              <div class="btn-group">
               @Html.ActionLink("View Trips","Index","Home",  new{@class="btn btn-sm btn-info"})
           @Html.ActionLink("View Guests","Guests","Home",  new{@class="btn btn-sm btn-info"})
           @Html.ActionLink("View Legs","Legs","Home",  new{@class="btn btn-sm btn-info"})
           @Html.ActionLink("View Legs Guests","LegsGuests","Home",  new{@class="btn btn-sm btn-info"})
</div>
</tr>
      </tr>
   </div>
  

</div>   

 @section Scripts {
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"           type="text/javascript"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.min.js"      type="text/javascript"></script>
    <script src="//ajax.aspnetcdn.com/ajax/jQuery.Validate/1.7/jQuery.Validate.min.js" type="text/javascript"></script>
    <script src="//ajax.aspnetcdn.com/ajax/mvc/3.0/jquery.validate.unobtrusive.min.js" type="text/javascript"></script>
    
}     